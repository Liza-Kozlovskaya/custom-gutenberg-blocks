{"version":3,"sources":["@wordpress/block-editor/src/components/block-alignment-control/ui.js"],"names":["__","DropdownMenu","ToolbarGroup","useSelect","positionCenter","positionLeft","positionRight","stretchFullWidth","stretchWide","useLayout","store","blockEditorStore","BLOCK_ALIGNMENTS_CONTROLS","left","icon","title","center","right","wide","full","DEFAULT_CONTROLS","DEFAULT_CONTROL","WIDE_CONTROLS","POPOVER_PROPS","isAlternate","BlockAlignmentUI","value","onChange","controls","isToolbar","isCollapsed","isToolbarButton","select","getSettings","settings","wideControlsEnabled","alignWide","layout","supportsAlignments","type","alignments","availableAlignments","enabledControls","filter","control","includes","length","applyOrUnset","align","undefined","activeAlignmentControl","defaultAlignmentControl","UIComponent","extraProps","describedBy","map","isActive","role","onClick"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA,SAASA,EAAT,QAAmB,iBAAnB;AACA,SAASC,YAAT,EAAuBC,YAAvB,QAA2C,uBAA3C;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SACCC,cADD,EAECC,YAFD,EAGCC,aAHD,EAICC,gBAJD,EAKCC,WALD,QAMO,kBANP;AAQA;AACA;AACA;;AACA,SAASC,SAAT,QAA0B,wBAA1B;AACA,SAASC,KAAK,IAAIC,gBAAlB,QAA0C,aAA1C;AAEA,IAAMC,yBAAyB,GAAG;AACjCC,EAAAA,IAAI,EAAE;AACLC,IAAAA,IAAI,EAAET,YADD;AAELU,IAAAA,KAAK,EAAEf,EAAE,CAAE,YAAF;AAFJ,GAD2B;AAKjCgB,EAAAA,MAAM,EAAE;AACPF,IAAAA,IAAI,EAAEV,cADC;AAEPW,IAAAA,KAAK,EAAEf,EAAE,CAAE,cAAF;AAFF,GALyB;AASjCiB,EAAAA,KAAK,EAAE;AACNH,IAAAA,IAAI,EAAER,aADA;AAENS,IAAAA,KAAK,EAAEf,EAAE,CAAE,aAAF;AAFH,GAT0B;AAajCkB,EAAAA,IAAI,EAAE;AACLJ,IAAAA,IAAI,EAAEN,WADD;AAELO,IAAAA,KAAK,EAAEf,EAAE,CAAE,YAAF;AAFJ,GAb2B;AAiBjCmB,EAAAA,IAAI,EAAE;AACLL,IAAAA,IAAI,EAAEP,gBADD;AAELQ,IAAAA,KAAK,EAAEf,EAAE,CAAE,YAAF;AAFJ;AAjB2B,CAAlC;AAuBA,IAAMoB,gBAAgB,GAAG,CAAE,MAAF,EAAU,QAAV,EAAoB,OAApB,EAA6B,MAA7B,EAAqC,MAArC,CAAzB;AACA,IAAMC,eAAe,GAAG,QAAxB;AACA,IAAMC,aAAa,GAAG,CAAE,MAAF,EAAU,MAAV,CAAtB;AAEA,IAAMC,aAAa,GAAG;AACrBC,EAAAA,WAAW,EAAE;AADQ,CAAtB;;AAIA,SAASC,gBAAT,OAOI;AAAA,MANHC,KAMG,QANHA,KAMG;AAAA,MALHC,QAKG,QALHA,QAKG;AAAA,2BAJHC,QAIG;AAAA,MAJHA,QAIG,8BAJQR,gBAIR;AAAA,MAHHS,SAGG,QAHHA,SAGG;AAAA,8BAFHC,WAEG;AAAA,MAFHA,WAEG,iCAFW,IAEX;AAAA,kCADHC,eACG;AAAA,MADHA,eACG,qCADe,IACf;;AAAA,mBACqC5B,SAAS,CAAE,UAAE6B,MAAF,EAAc;AAAA,kBACxCA,MAAM,CAAErB,gBAAF,CADkC;AAAA,QACxDsB,WADwD,WACxDA,WADwD;;AAEhE,QAAMC,QAAQ,GAAGD,WAAW,EAA5B;AACA,WAAO;AACNE,MAAAA,mBAAmB,EAAED,QAAQ,CAACE;AADxB,KAAP;AAGA,GANgD,EAM9C,EAN8C,CAD9C;AAAA,yCACKD,mBADL;AAAA,MACKA,mBADL,sCAC2B,KAD3B;;AAQH,MAAME,MAAM,GAAG5B,SAAS,EAAxB;AACA,MAAM6B,kBAAkB,GAAGD,MAAM,CAACE,IAAP,KAAgB,SAA3C;;AAEA,MAAK,CAAED,kBAAP,EAA4B;AAC3B,WAAO,IAAP;AACA;;AAbE,2BAe4DD,MAf5D,CAeKG,UAfL;AAAA,MAeiBC,mBAfjB,mCAeuCrB,gBAfvC;AAgBH,MAAMsB,eAAe,GAAGd,QAAQ,CAACe,MAAT,CACvB,UAAEC,OAAF;AAAA,WACC,CAAET,mBAAmB,IAAI,CAAEb,aAAa,CAACuB,QAAd,CAAwBD,OAAxB,CAA3B,KACAH,mBAAmB,CAACI,QAApB,CAA8BD,OAA9B,CAFD;AAAA,GADuB,CAAxB;;AAMA,MAAKF,eAAe,CAACI,MAAhB,KAA2B,CAAhC,EAAoC;AACnC,WAAO,IAAP;AACA;;AAED,WAASC,YAAT,CAAuBC,KAAvB,EAA+B;AAC9B,WAAO;AAAA,aAAMrB,QAAQ,CAAED,KAAK,KAAKsB,KAAV,GAAkBC,SAAlB,GAA8BD,KAAhC,CAAd;AAAA,KAAP;AACA;;AAED,MAAME,sBAAsB,GAAGtC,yBAAyB,CAAEc,KAAF,CAAxD;AACA,MAAMyB,uBAAuB,GAC5BvC,yBAAyB,CAAES,eAAF,CAD1B;AAGA,MAAM+B,WAAW,GAAGvB,SAAS,GAAG3B,YAAH,GAAkBD,YAA/C;AACA,MAAMoD,UAAU,GAAGxB,SAAS,GAAG;AAAEC,IAAAA,WAAW,EAAXA;AAAF,GAAH,GAAqB;AAAEC,IAAAA,eAAe,EAAfA;AAAF,GAAjD;AAEA,SACC,cAAC,WAAD;AACC,IAAA,YAAY,EAAGR,aADhB;AAEC,IAAA,IAAI,EACH2B,sBAAsB,GACnBA,sBAAsB,CAACpC,IADJ,GAEnBqC,uBAAuB,CAACrC,IAL7B;AAOC,IAAA,KAAK,EAAGd,EAAE,CAAE,OAAF,CAPX;AAQC,IAAA,WAAW,EAAG;AAAEsD,MAAAA,WAAW,EAAEtD,EAAE,CAAE,kBAAF;AAAjB,KARf;AASC,IAAA,QAAQ,EAAG0C,eAAe,CAACa,GAAhB,CAAqB,UAAEX,OAAF,EAAe;AAC9C,6CACIhC,yBAAyB,CAAEgC,OAAF,CAD7B;AAECY,QAAAA,QAAQ,EAAE9B,KAAK,KAAKkB,OAFrB;AAGCa,QAAAA,IAAI,EAAE3B,WAAW,GAAG,eAAH,GAAqBmB,SAHvC;AAICS,QAAAA,OAAO,EAAEX,YAAY,CAAEH,OAAF;AAJtB;AAMA,KAPU;AATZ,KAiBMS,UAjBN,EADD;AAqBA;;AAED,eAAe5B,gBAAf","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { DropdownMenu, ToolbarGroup } from '@wordpress/components';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tpositionCenter,\n\tpositionLeft,\n\tpositionRight,\n\tstretchFullWidth,\n\tstretchWide,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport { useLayout } from '../inner-blocks/layout';\nimport { store as blockEditorStore } from '../../store';\n\nconst BLOCK_ALIGNMENTS_CONTROLS = {\n\tleft: {\n\t\ticon: positionLeft,\n\t\ttitle: __( 'Align left' ),\n\t},\n\tcenter: {\n\t\ticon: positionCenter,\n\t\ttitle: __( 'Align center' ),\n\t},\n\tright: {\n\t\ticon: positionRight,\n\t\ttitle: __( 'Align right' ),\n\t},\n\twide: {\n\t\ticon: stretchWide,\n\t\ttitle: __( 'Wide width' ),\n\t},\n\tfull: {\n\t\ticon: stretchFullWidth,\n\t\ttitle: __( 'Full width' ),\n\t},\n};\n\nconst DEFAULT_CONTROLS = [ 'left', 'center', 'right', 'wide', 'full' ];\nconst DEFAULT_CONTROL = 'center';\nconst WIDE_CONTROLS = [ 'wide', 'full' ];\n\nconst POPOVER_PROPS = {\n\tisAlternate: true,\n};\n\nfunction BlockAlignmentUI( {\n\tvalue,\n\tonChange,\n\tcontrols = DEFAULT_CONTROLS,\n\tisToolbar,\n\tisCollapsed = true,\n\tisToolbarButton = true,\n} ) {\n\tconst { wideControlsEnabled = false } = useSelect( ( select ) => {\n\t\tconst { getSettings } = select( blockEditorStore );\n\t\tconst settings = getSettings();\n\t\treturn {\n\t\t\twideControlsEnabled: settings.alignWide,\n\t\t};\n\t}, [] );\n\tconst layout = useLayout();\n\tconst supportsAlignments = layout.type === 'default';\n\n\tif ( ! supportsAlignments ) {\n\t\treturn null;\n\t}\n\n\tconst { alignments: availableAlignments = DEFAULT_CONTROLS } = layout;\n\tconst enabledControls = controls.filter(\n\t\t( control ) =>\n\t\t\t( wideControlsEnabled || ! WIDE_CONTROLS.includes( control ) ) &&\n\t\t\tavailableAlignments.includes( control )\n\t);\n\n\tif ( enabledControls.length === 0 ) {\n\t\treturn null;\n\t}\n\n\tfunction applyOrUnset( align ) {\n\t\treturn () => onChange( value === align ? undefined : align );\n\t}\n\n\tconst activeAlignmentControl = BLOCK_ALIGNMENTS_CONTROLS[ value ];\n\tconst defaultAlignmentControl =\n\t\tBLOCK_ALIGNMENTS_CONTROLS[ DEFAULT_CONTROL ];\n\n\tconst UIComponent = isToolbar ? ToolbarGroup : DropdownMenu;\n\tconst extraProps = isToolbar ? { isCollapsed } : { isToolbarButton };\n\n\treturn (\n\t\t<UIComponent\n\t\t\tpopoverProps={ POPOVER_PROPS }\n\t\t\ticon={\n\t\t\t\tactiveAlignmentControl\n\t\t\t\t\t? activeAlignmentControl.icon\n\t\t\t\t\t: defaultAlignmentControl.icon\n\t\t\t}\n\t\t\tlabel={ __( 'Align' ) }\n\t\t\ttoggleProps={ { describedBy: __( 'Change alignment' ) } }\n\t\t\tcontrols={ enabledControls.map( ( control ) => {\n\t\t\t\treturn {\n\t\t\t\t\t...BLOCK_ALIGNMENTS_CONTROLS[ control ],\n\t\t\t\t\tisActive: value === control,\n\t\t\t\t\trole: isCollapsed ? 'menuitemradio' : undefined,\n\t\t\t\t\tonClick: applyOrUnset( control ),\n\t\t\t\t};\n\t\t\t} ) }\n\t\t\t{ ...extraProps }\n\t\t/>\n\t);\n}\n\nexport default BlockAlignmentUI;\n"]}