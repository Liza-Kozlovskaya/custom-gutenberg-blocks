{"version":3,"sources":["@wordpress/block-editor/src/components/block-patterns-list/index.js"],"names":["useMemo","parse","VisuallyHidden","__unstableComposite","Composite","__unstableUseCompositeState","useCompositeState","__unstableCompositeItem","CompositeItem","useInstanceId","__","BlockPreview","InserterDraggableBlocks","BlockPattern","isDraggable","pattern","onClick","composite","content","viewportWidth","blocks","instanceId","descriptionId","draggable","onDragStart","onDragEnd","title","description","undefined","BlockPatternPlaceholder","BlockPatternList","blockPatterns","shownPatterns","onClickPattern","orientation","label","map","isShown","includes","name"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useMemo } from '@wordpress/element';\nimport { parse } from '@wordpress/blocks';\nimport {\n\tVisuallyHidden,\n\t__unstableComposite as Composite,\n\t__unstableUseCompositeState as useCompositeState,\n\t__unstableCompositeItem as CompositeItem,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport BlockPreview from '../block-preview';\nimport InserterDraggableBlocks from '../inserter-draggable-blocks';\n\nfunction BlockPattern( { isDraggable, pattern, onClick, composite } ) {\n\tconst { content, viewportWidth } = pattern;\n\tconst blocks = useMemo( () => parse( content ), [ content ] );\n\tconst instanceId = useInstanceId( BlockPattern );\n\tconst descriptionId = `block-editor-block-patterns-list__item-description-${ instanceId }`;\n\n\treturn (\n\t\t<InserterDraggableBlocks isEnabled={ isDraggable } blocks={ blocks }>\n\t\t\t{ ( { draggable, onDragStart, onDragEnd } ) => (\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"block-editor-block-patterns-list__list-item\"\n\t\t\t\t\taria-label={ pattern.title }\n\t\t\t\t\taria-describedby={\n\t\t\t\t\t\tpattern.description ? descriptionId : undefined\n\t\t\t\t\t}\n\t\t\t\t\tdraggable={ draggable }\n\t\t\t\t\tonDragStart={ onDragStart }\n\t\t\t\t\tonDragEnd={ onDragEnd }\n\t\t\t\t>\n\t\t\t\t\t<CompositeItem\n\t\t\t\t\t\trole=\"option\"\n\t\t\t\t\t\tas=\"div\"\n\t\t\t\t\t\t{ ...composite }\n\t\t\t\t\t\tclassName=\"block-editor-block-patterns-list__item\"\n\t\t\t\t\t\tonClick={ () => onClick( pattern, blocks ) }\n\t\t\t\t\t>\n\t\t\t\t\t\t<BlockPreview\n\t\t\t\t\t\t\tblocks={ blocks }\n\t\t\t\t\t\t\tviewportWidth={ viewportWidth }\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"block-editor-block-patterns-list__item-title\">\n\t\t\t\t\t\t\t{ pattern.title }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{ !! pattern.description && (\n\t\t\t\t\t\t\t<VisuallyHidden id={ descriptionId }>\n\t\t\t\t\t\t\t\t{ pattern.description }\n\t\t\t\t\t\t\t</VisuallyHidden>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</CompositeItem>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</InserterDraggableBlocks>\n\t);\n}\n\nfunction BlockPatternPlaceholder() {\n\treturn (\n\t\t<div className=\"block-editor-block-patterns-list__item is-placeholder\" />\n\t);\n}\n\nfunction BlockPatternList( {\n\tisDraggable,\n\tblockPatterns,\n\tshownPatterns,\n\tonClickPattern,\n\torientation,\n\tlabel = __( 'Block Patterns' ),\n} ) {\n\tconst composite = useCompositeState( { orientation } );\n\treturn (\n\t\t<Composite\n\t\t\t{ ...composite }\n\t\t\trole=\"listbox\"\n\t\t\tclassName=\"block-editor-block-patterns-list\"\n\t\t\taria-label={ label }\n\t\t>\n\t\t\t{ blockPatterns.map( ( pattern ) => {\n\t\t\t\tconst isShown = shownPatterns.includes( pattern );\n\t\t\t\treturn isShown ? (\n\t\t\t\t\t<BlockPattern\n\t\t\t\t\t\tkey={ pattern.name }\n\t\t\t\t\t\tpattern={ pattern }\n\t\t\t\t\t\tonClick={ onClickPattern }\n\t\t\t\t\t\tisDraggable={ isDraggable }\n\t\t\t\t\t\tcomposite={ composite }\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t<BlockPatternPlaceholder key={ pattern.name } />\n\t\t\t\t);\n\t\t\t} ) }\n\t\t</Composite>\n\t);\n}\n\nexport default BlockPatternList;\n"]}